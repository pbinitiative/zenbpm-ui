# =============================================================================
# ZenBPM UI - Local Environment Configuration Example
# =============================================================================
# Copy this file to .env.local for your personal settings.
# The .env.local file is gitignored and won't be committed.
#
# Vite .env file loading order (later files override earlier):
#   1. .env                  - Base config (always loaded)
#   2. .env.local            - Local overrides (always loaded, gitignored)
#   3. .env.[mode]           - Mode-specific (e.g., .env.mocks, .env.live)
#   4. .env.[mode].local     - Mode + local overrides (gitignored)
#
# Available modes (set via --mode flag):
#   - pnpm dev               - Uses default mode (mocks)
#   - pnpm dev --mode mocks  - Uses .env.mocks (all mocked)
#   - pnpm dev --mode live   - Uses .env.live (all live)
#
# =============================================================================


# =============================================================================
# BACKEND API CONFIGURATION
# =============================================================================

# Backend API base URL
# Default: http://localhost:8080/v1
# VITE_API_BASE_URL=http://localhost:8080/v1

# If running backend on a different port:
# VITE_API_BASE_URL=http://localhost:9000/v1

# If connecting to a remote backend:
# VITE_API_BASE_URL=https://api.example.com/v1


# =============================================================================
# API STRATEGY
# =============================================================================
# Controls how API requests are handled.
#
# Available strategies:
#   - mocks                  All endpoints use MSW mock data
#   - live                   All endpoints call real backend
#   - live-with-exceptions   Live backend, but specified endpoints are mocked
#   - mocks-with-exceptions  Mocked, but specified endpoints call real backend
#
# Default: mocks

# Use all mocks (no backend required):
# VITE_API_STRATEGY=mocks

# Use real backend for everything:
# VITE_API_STRATEGY=live

# Mostly live, but mock specific endpoints:
# VITE_API_STRATEGY=live-with-exceptions

# Mostly mocked, but some endpoints call real backend:
# VITE_API_STRATEGY=mocks-with-exceptions


# =============================================================================
# MOCK CONFIGURATION
# =============================================================================

# Mock response delay
# Controls the artificial delay for mock responses.
#
# Options:
#   - 'real'    Realistic variable delay (100-500ms)
#   - 0         No delay (instant responses)
#   - <number>  Fixed delay in milliseconds
#
# Default: real

# Realistic delays (simulates network latency):
# VITE_MOCK_DELAY=real

# No delay (faster development):
# VITE_MOCK_DELAY=0

# Fixed delay (e.g., 200ms):
# VITE_MOCK_DELAY=200


# =============================================================================
# API VALIDATION
# =============================================================================
# Validates API responses against OpenAPI schema during development.
# Logs warnings to console when responses don't match the schema.
#
# Default: Enabled in dev modes (mocks/live), disabled in production build.

# Disable validation (for performance or to silence warnings):
# VITE_API_VALIDATION=false

# Enable validation:
# VITE_API_VALIDATION=true


# =============================================================================
# ENDPOINT EXCEPTIONS (for mixed strategies)
# =============================================================================
# These settings are used with 'live-with-exceptions' or 'mocks-with-exceptions'
# strategies to specify which endpoints should behave differently.
#
# Pattern syntax:
#   - /path              Exact match
#   - /path/*            Matches one level (e.g., /path/123)
#   - /path/**           Matches all nested paths (e.g., /path/123/sub)
#
# Multiple patterns are comma-separated.

# -----------------------------------------------------------------------------
# VITE_MOCK_ENDPOINTS
# -----------------------------------------------------------------------------
# Used with: VITE_API_STRATEGY=live-with-exceptions
# Purpose: Specify which endpoints should be MOCKED while rest are live.
#
# Example: Mock process definitions and incidents while rest calls real backend
# VITE_MOCK_ENDPOINTS=/process-definitions/**,/incidents/**

# Example: Mock only the statistics endpoints
# VITE_MOCK_ENDPOINTS=/process-definitions/statistics,/process-definitions/*/statistics

# -----------------------------------------------------------------------------
# VITE_LIVE_ENDPOINTS
# -----------------------------------------------------------------------------
# Used with: VITE_API_STRATEGY=mocks-with-exceptions
# Purpose: Specify which endpoints should call REAL backend while rest are mocked.
#
# Example: Call real backend for jobs while mocking everything else
# VITE_LIVE_ENDPOINTS=/jobs/**

# Example: Test real process instance creation while mocking the rest
# VITE_LIVE_ENDPOINTS=/process-instances,/process-definitions/*/start

# Example: Multiple live endpoints
# VITE_LIVE_ENDPOINTS=/jobs/**,/messages/**,/incidents/**


# =============================================================================
# AUTHENTICATION (OIDC)
# =============================================================================
# Enable OIDC authentication (set to 'true' to enable, disabled by default)
# When enabled, users must authenticate via an OIDC provider (Keycloak, Entra ID, etc.)
# When disabled, the app runs without authentication.
#
# VITE_AUTH_ENABLED=true

# OIDC Issuer URL (the base URL of your identity provider)
# Used for OIDC discovery via {issuer}/.well-known/openid-configuration
# VITE_OIDC_ISSUER=https://keycloak.example.com/realms/zenbpm

# OIDC Client ID (registered in your identity provider)
# VITE_OIDC_CLIENT_ID=zenbpm-ui

# Redirect URI after login (must match your IdP configuration)
# Defaults to {origin}/auth/callback if not set
# VITE_OIDC_REDIRECT_URI=http://localhost:3000/auth/callback

# Redirect URI after logout
# Defaults to {origin} if not set
# VITE_OIDC_POST_LOGOUT_REDIRECT_URI=http://localhost:3000

# OIDC Scopes (space-separated, default: 'openid profile email')
# VITE_OIDC_SCOPE=openid profile email


# =============================================================================
# COMMON CONFIGURATIONS
# =============================================================================
# Below are some common configuration presets you can copy:

# --- Frontend Development (no backend) ---
# VITE_API_STRATEGY=mocks
# VITE_MOCK_DELAY=real

# --- Fast Frontend Development (instant responses) ---
# VITE_API_STRATEGY=mocks
# VITE_MOCK_DELAY=0

# --- Full Stack Development (real backend) ---
# VITE_API_STRATEGY=live
# VITE_API_BASE_URL=http://localhost:8080/v1

# --- Testing specific feature with real backend ---
# VITE_API_STRATEGY=mocks-with-exceptions
# VITE_LIVE_ENDPOINTS=/process-instances/**
# VITE_MOCK_DELAY=0

# --- Production-like testing with mocked slow endpoints ---
# VITE_API_STRATEGY=live-with-exceptions
# VITE_MOCK_ENDPOINTS=/decision-instances/**
# VITE_API_BASE_URL=http://localhost:8080/v1
